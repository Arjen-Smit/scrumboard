TODO:

Move the router out of the database to a class to use it more flexable and faster.
